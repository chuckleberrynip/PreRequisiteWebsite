<!--Mohammed Azad-->
<!--CISC 4900 - PreRequisite Website-->

<!--BIOLOGY MAJOR: DEPARTMENT REQUIREMENTS-->

<!DOCTYPE html>
<html lang=en>
    <head>
        <meta charset="UTF-8" content="width=device-width, initial-scale=1";>
        <title>PreRequisite Website</title>
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Work+Sans&display=swap" rel="stylesheet">
        <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
        <script type="text/javascript" src = "courseOrdering.JSON"></script>
        <link rel="stylesheet" href="styles/tablelayout.css">
    </head>
        <body>
        <ul class="navbar">
            <li class="nav"><a href="../Contact.html">Contact</a></li>
            <li class="nav"><a href="../About.html">About</a></li>
			<li class="nav"><a href="CompSci.html">Computer Science</a></li> 
            <li class="nav"><a href="../index.html">Home</a></li>
        </ul>

        <!--INSERT THE DEPARTMENT NAME-->
        <h3 style="Work-Sans">Biology: Necessary Department Courses</h3>
		 <div class = "row"></div>
			<div class = "left">
				<table style="width:15%;border: 1px; font-size:15px;">
					<!--I recommend keeping the header the same, but you can do what you like -->
					<tr>
                        <th>Courses</th>
                        <th>Full Name</th>
                        <th>Number of Credits</th>
                        <th class="MinHolder">Minimum Grade to Satisfy Graduation Requirements</th>
                        <th>Have Taken?</th>
					</tr>
					<!--To make your life easier, I'm adding enough blank cells for 10 courses, but you can copy them to add more cells for more courses -->
					<!--NOTE: input id and name should be the same as course number, i.e a course of CISC 1115 should have the same id and name in the input tag, whitespace included---->
                    <!--The first cell will have placeholder values so you know how its done.-->

                    <!--TABLE AREA-->
					<tr>
                        <td>ENGL 1010</td>
                        <td>English Composition I</td>
                        <td>3 Credts</td>
                        <td>D-</td>
                        <td><input type="checkbox" name = "ENGL 1010" id = "ENGL 1010" autocomplete="off"></td>
                    </tr>				
                	<tr>
                        <td>ENGL 1012</td>
                        <td>English Composition II</td>
                        <td>3 Credits</td>
                        <td>D-</td>
                        <td><input type="checkbox" name = "ENGL 1012" id = "ENGL 1012" autocomplete="off"></td>
                    </tr>
					<tr>
                        <td>BIOL 1001</td>
                        <td>General Biology 1</td>
                        <td>4.5 Credits</td>
                        <td>C-</td>
                        <td><input type="checkbox" name = "BIOL 1001" id = "BIOL 1001" autocomplete="off"></td>
                    </tr>
					<tr>
                        <td>BIOL 1002</td>
                        <td>General Biology 2</td>
                        <td>4.5 Credits</td>
                        <td>C-</td>
                        <td><input type="checkbox" name = "BIOL 1002" id = "BIOL 1002" autocomplete="off"></td>
                    </tr>
					<tr>
                        <td>BIOL 3003</td>
                        <td>Microbiology</td>
                        <td>3 Credits</td>
                        <td>C-</td>
                        <td><input type="checkbox" name = "BIOL 3003" id = "BIOL 3003" autocomplete="off"></td>
                    </tr>
					<tr>
                        <td>BIOL 3011</td>
                        <td>Genetics</td>
                        <td>3 Credits</td>
                        <td>C-</td>
                        <td><input type="checkbox" name = "BIOL 3011" id = "BIOL 3011" autocomplete="off"></td>
                    </tr>
					<tr>
                        <td>MATH 1201</td>
                        <td>Calculus I</td>
                        <td>4 Credits</td>
                        <td>D-</td>
                        <td><input type="checkbox" name = "MATH 1201" id = "MATH 1201" autocomplete="off"></td>
                    </tr>
					<tr>
                        <td>CHEM 1100</td>
                        <td>General Chemistry I</td>
                        <td>5 Credits</td>
                        <td>C-</td>
                        <td><input type="checkbox" name = "CHEM 1100" id = "CHEM 1100" autocomplete="off"></td>
                    </tr>
					<tr>
                        <td>CHEM 2100</td>
                        <td>General Chemistry II</td>
                        <td>5 Credits</td>
                        <td>C-</td>
                        <td><input type="checkbox" name = "CHEM 2100" id = "CHEM 2100" autocomplete="off"></td>
                    </tr>
					<tr>
                        <td>CHEM 3501</td>
                        <td>Organic Chemistry I</td>
                        <td>5 Credits</td>
                        <td>C-</td>
                        <td><input type="checkbox" name = "CHEM 3501" id = "CHEM 3501" autocomplete="off"></td>
                    </tr>
                    <tr>
                        <td>BIOL 3004</td>
                        <td>Microbiology Laboratory</td>
                        <td>2 Credits</td>
                        <td>C-</td>
                        <td><input type="checkbox" name = "BIOL 3004" id = "BIOL 3004" autocomplete="off"></td>
                    </tr>
                    <tr>
                        <td>BIOL 3006</td>
                        <td>Evolution</td>
                        <td>3 Credits</td>
                        <td>C-</td>
                        <td><input type="checkbox" name = "BIOL 3006" id = "BIOL 3006" autocomplete="off"></td>
                    </tr>
                    <tr>
                        <td>BIOL 3007W</td>
                        <td>Evolution</td>
                        <td>3 Credits</td>
                        <td>C-</td>
                        <td><input type="checkbox" name = "BIOL 3007W" id = "BIOL 3007W" autocomplete="off"></td>
                    </tr>
                    <tr>
                        <td>BIOL 2001</td>
                        <td>Organismic Biology II, Zoology</td>
                        <td>3 Credits</td>
                        <td>C-</td>
                        <td><input type="checkbox" name = "BIOL 2001" id = "BIOL 2001" autocomplete="off"></td>
                    </tr>
                    <tr>
                        <td>BIOL 2002</td>
                        <td>Animal Form and Function Laboratory</td>
                        <td>2 Credits</td>
                        <td>C-</td>
                        <td><input type="checkbox" name = "BIOL 2002" id = "BIOL 2002" autocomplete="off"></td>
                    </tr>
                    <tr>
                        <td>BIOL 2010</td>
                        <td>Advanced Cell and Molecular Biology</td>
                        <td>3 Credits</td>
                        <td>C-</td>
                        <td><input type="checkbox" name = "BIOL 2010" id = "BIOL 2010" autocomplete="off"></td>
                    </tr>
				</table>
            </div>
            <div class = "middle">
                <p class="submition">Pressing this button will show what courses you can take and in what order.</p>
                <input class="hold" type = "submit" id ="pressit" value = "Check what you can get" style="text-align:center;">
                <script>
                    //This deals with the checklist, inserting the ids into an array 
					var checklist = document.querySelectorAll("input[type=checkbox]");
                    var submit = document.getElementById("submit");
                    function getChecked() {
                        var checked = [];
                        for (var i = 0; i < checklist.length; i++) {
                            var checkbox = checklist[i];
                            if (checkbox.checked) {
                                checked.push(checkbox.id);
                            }
                        }
                        return checked;
                    }
					
					//This deals with the button being pressed, causes the comparison between inputted courses taken and the topological sorted array
                    pressit.addEventListener("click", function() {
                        var checked = getChecked();
                        var newSorted = topoSortWork(lines);
                        var webout = giveDifferentValues(checked, newSorted);
                        var outstring = "";
                        for(var x=0; x<webout.length; x++) { 
                            outstring += webout[x];
                            outstring += '\n';
                        }
                        if(webout.length==0) { 
                            document.getElementById("listoutput").innerHTML = "Congratulation you've completed everything\nAnd now you can graduate"
                        }
                        else {
                            var listit = "<li>" + webout.join("</li><li>") + "</li>";
                            document.getElementById("listoutput").innerHTML = listit;
                        }
                        
                    });
					//Sorts the courses in the proper manner where prerequisites are not an issue
                    function topoSortWork(lines) { 
                        
                        var vertex = {};
                        var checked = {};
                        var sorted = [];
                        
                        var Vert = function(vertName) { 
                            this.vertName = vertName;
                            this.nextOne = [];
                        }
                        lines.forEach(function (sentit) { 
                            var precede = sentit[0];
                            var succeed = sentit[1];
                            if(!vertex[precede]){
                                vertex[precede] = new Vert(precede);
                            }
                            if(!vertex[succeed]) {
                                vertex[succeed] = new Vert(succeed);
                            }
                            vertex[precede].nextOne.push(succeed);
                        }
                        );
                        
                        Object.keys(vertex).forEach(function checkit(node, oldOne) { 
                            var newVert = vertex[node];
                            var vertName = newVert.vertName;
                            if(checked[node]) { 
                                return;
                            }
                            if(!Array.isArray(oldOne)) { 
                                oldOne = [];
                            }
                            oldOne.push(vertex);
                            checked[node] = true;
                            newVert.nextOne.forEach(function (afterNode) { 
                                if(oldOne.indexOf(afterNode) >= 0) { 
                                    throw new Error("Wrong placement");
                                }
                                checkit(afterNode.toString(), oldOne.map(function(sentit) { 
                                    return sentit;
                                }
                                )
                                );
                            }
                            );
                            sorted.unshift(vertName);
                        }
                        );
                        return sorted;
                    }
                    
					//List of courses
                    //The inner array highlights the relationship between the courses,
                    //the preceding value would be a necessary prerequisite for the coming course.
                    //This requires much attention to in order for the software to work.
                    //This version is using a JSON file that would already contain the ordering of the courses.
                    
                    var lines;

                    //The correct course ordering is determined here, in order to use a specific ordering of a 
                    //desired major, change the name of the major to the corresponding major in the JSON file
                    //The JSON file is being hosted on the github page, so if you do upload it then please allow for 
                    //a small amount of time to pass so that the JSON can properly update
                    
					//lines = courses.majorName;
                    $.getJSON("https://chuckleberrynip.github.io/PreRequisiteWebsite/courseOrdering.JSON", function(courses) { 
						lines = courses.biology;
                    })

                    //Known values are inputed and the course schedule is already made. 
                    //So this function returns an array that contains the values relational difference
                    //of the arrays. More specifically sorted differences checkFirst.
                    function giveDifferentValues(checkFirst, sorted) { 
                        var holder = [];
                        var differentValues = [];
                        //This is validating the values that are in the first array.
                        for(var i=0; i < checkFirst.length; i++) { 
                            holder[checkFirst[i]] = true;
                        }
                        for(var j=0; j < sorted.length; j++) { 
                            if(holder[sorted[j]] == true) { 
                                delete holder[sorted[j]];
                            }
                            else { 
                                holder[sorted[j]] = true;
                            }
                        }
                        //Pushing the different values into another array
                        for(var elemname in holder) { 
                            differentValues.push(elemname);
                        }
                        return differentValues;
                    }
                    </script>
            </div>
            <div class = "right">
                <h3 style="text-align:center"><u>List of courses:</u></h3>
                <ul class ="anim" style="text-align:center">
                    <p id="listoutput">Courses:</p>
                </ul>
            </div>
        </div>
    </body>
</html>

					